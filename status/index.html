
<html>
    <head>
        <script src="”web3.min.js”"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    </head>
    <body>
        <div>
    
            <h1 >My bank</h1>
    
            <div>
                <span>Owner: </span><span id="owner"></span>
            </div>
            <div>
                <span>Balance: </span><span id="balance"></span>
            </div>
        
    
        </div>
        <script>
            if(typeof web3 !== 'undefined'){
                web3 = new Web3(web3.currentProvider);
            }
            else{
                web3 = new Web3(new Web3.providers.HttpProvider(web3.currentProvider));
            }
            web3.eth.defaultAccount = web3.eth.accounts[0];
            var bankContract = web3.eth.contract(                {
                "constant": false,
                "inputs": [
                    {
                        "name": "payee",
                        "type": "address"
                    }
                ],
                "name": "deposit",
                "outputs": [],
                "payable": true,
                "stateMutability": "payable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "recipient",
                        "type": "address"
                    }
                ],
                "name": "transferPrimary",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "payee",
                        "type": "address"
                    }
                ],
                "name": "withdraw",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "payee",
                        "type": "address"
                    },
                    {
                        "indexed": false,
                        "name": "weiAmount",
                        "type": "uint256"
                    }
                ],
                "name": "Deposited",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "payee",
                        "type": "address"
                    },
                    {
                        "indexed": false,
                        "name": "weiAmount",
                        "type": "uint256"
                    }
                ],
                "name": "Withdrawn",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": false,
                        "name": "recipient",
                        "type": "address"
                    }
                ],
                "name": "PrimaryTransferred",
                "type": "event"
            },
            {
                "constant": true,
                "inputs": [
                    {
                        "name": "payee",
                        "type": "address"
                    }
                ],
                "name": "depositsOf",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "primary",
                "outputs": [
                    {
                        "name": "",
                        "type": "address"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            }
        ]);
            var bank = bankContract.at("0xc44c04DF5Bd67c8353944d56aF09484180953002");
            var depositEvent = bank.DepositEvent();
            bank.getBalance(function(error, result){
                if(!error){
                    $("#balance").html(result.toString());
                }
                else{
                    console.log(error);
                }
            });
            bank.owner(function(error, result){
                if(!error){
                    $("#owner").html(result);
                }
                else{
                    console.log(error);
                }
            });
            depositEvent.watch(function(error, result){
                if(!error){
                    $("#balance").html(result.args.balance.toString());
                }
                else{
                    console.log(error);
                }
            });
        </script>
    </body>
    </html>